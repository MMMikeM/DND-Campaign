{
  "id": "77a71744-083b-437d-ba0e-c941d4133de6",
  "prevId": "8d7ca2b5-45eb-45e9-ba83-311dc3343964",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.clues": {
      "name": "clues",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_stage_id": {
          "name": "quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "discovery_condition": {
          "name": "discovery_condition",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "reveals": {
          "name": "reveals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "clues_quest_stage_id_quest_stages_id_fk": {
          "name": "clues_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "clues",
          "columnsFrom": [
            "quest_stage_id"
          ],
          "tableTo": "quest_stages",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "clues_faction_id_factions_id_fk": {
          "name": "clues_faction_id_factions_id_fk",
          "tableFrom": "clues",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "clues_site_id_sites_id_fk": {
          "name": "clues_site_id_sites_id_fk",
          "tableFrom": "clues",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "clues_npc_id_npcs_id_fk": {
          "name": "clues_npc_id_npcs_id_fk",
          "tableFrom": "clues",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "clues_embedding_id_embeddings_id_fk": {
          "name": "clues_embedding_id_embeddings_id_fk",
          "tableFrom": "clues",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_quest_involvement": {
      "name": "faction_quest_involvement",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interest": {
          "name": "interest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_quest_involvement_quest_id_quests_id_fk": {
          "name": "faction_quest_involvement_quest_id_quests_id_fk",
          "tableFrom": "faction_quest_involvement",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "faction_quest_involvement_faction_id_factions_id_fk": {
          "name": "faction_quest_involvement_faction_id_factions_id_fk",
          "tableFrom": "faction_quest_involvement",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_quest_involvement_quest_id_faction_id_unique": {
          "name": "faction_quest_involvement_quest_id_faction_id_unique",
          "columns": [
            "quest_id",
            "faction_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_territorial_control": {
      "name": "faction_territorial_control",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "area_id": {
          "name": "area_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "influence_level": {
          "name": "influence_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "presence": {
          "name": "presence",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "priorities": {
          "name": "priorities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_territorial_control_faction_id_factions_id_fk": {
          "name": "faction_territorial_control_faction_id_factions_id_fk",
          "tableFrom": "faction_territorial_control",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "faction_territorial_control_region_id_regions_id_fk": {
          "name": "faction_territorial_control_region_id_regions_id_fk",
          "tableFrom": "faction_territorial_control",
          "columnsFrom": [
            "region_id"
          ],
          "tableTo": "regions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "faction_territorial_control_area_id_areas_id_fk": {
          "name": "faction_territorial_control_area_id_areas_id_fk",
          "tableFrom": "faction_territorial_control",
          "columnsFrom": [
            "area_id"
          ],
          "tableTo": "areas",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "faction_territorial_control_site_id_sites_id_fk": {
          "name": "faction_territorial_control_site_id_sites_id_fk",
          "tableFrom": "faction_territorial_control",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_territorial_control_faction_id_region_id_area_id_site_id_unique": {
          "name": "faction_territorial_control_faction_id_region_id_area_id_site_id_unique",
          "columns": [
            "faction_id",
            "region_id",
            "area_id",
            "site_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.items": {
      "name": "items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stage_id": {
          "name": "stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "significance": {
          "name": "significance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "items_npc_id_npcs_id_fk": {
          "name": "items_npc_id_npcs_id_fk",
          "tableFrom": "items",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "items_faction_id_factions_id_fk": {
          "name": "items_faction_id_factions_id_fk",
          "tableFrom": "items",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "items_site_id_sites_id_fk": {
          "name": "items_site_id_sites_id_fk",
          "tableFrom": "items",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "items_quest_id_quests_id_fk": {
          "name": "items_quest_id_quests_id_fk",
          "tableFrom": "items",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "items_stage_id_quest_stages_id_fk": {
          "name": "items_stage_id_quest_stages_id_fk",
          "tableFrom": "items",
          "columnsFrom": [
            "stage_id"
          ],
          "tableTo": "quest_stages",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "items_embedding_id_embeddings_id_fk": {
          "name": "items_embedding_id_embeddings_id_fk",
          "tableFrom": "items",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "items_name_unique": {
          "name": "items_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.npc_quest_roles": {
      "name": "npc_quest_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "importance": {
          "name": "importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "dramatic_moments": {
          "name": "dramatic_moments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hidden_aspects": {
          "name": "hidden_aspects",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "npc_quest_roles_npc_id_npcs_id_fk": {
          "name": "npc_quest_roles_npc_id_npcs_id_fk",
          "tableFrom": "npc_quest_roles",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "npc_quest_roles_quest_id_quests_id_fk": {
          "name": "npc_quest_roles_quest_id_quests_id_fk",
          "tableFrom": "npc_quest_roles",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npc_quest_roles_npc_id_quest_id_role_unique": {
          "name": "npc_quest_roles_npc_id_quest_id_role_unique",
          "columns": [
            "npc_id",
            "quest_id",
            "role"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quest_hook_npcs": {
      "name": "quest_hook_npcs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "hook_id": {
          "name": "hook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship": {
          "name": "relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trust_required": {
          "name": "trust_required",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dialogue_hint": {
          "name": "dialogue_hint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_hook_npcs_hook_id_quest_introductions_id_fk": {
          "name": "quest_hook_npcs_hook_id_quest_introductions_id_fk",
          "tableFrom": "quest_hook_npcs",
          "columnsFrom": [
            "hook_id"
          ],
          "tableTo": "quest_introductions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "quest_hook_npcs_npc_id_npcs_id_fk": {
          "name": "quest_hook_npcs_npc_id_npcs_id_fk",
          "tableFrom": "quest_hook_npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quest_hook_npcs_hook_id_npc_id_unique": {
          "name": "quest_hook_npcs_hook_id_npc_id_unique",
          "columns": [
            "hook_id",
            "npc_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quest_introductions": {
      "name": "quest_introductions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "stage_id": {
          "name": "stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "item_id": {
          "name": "item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "discovery_condition": {
          "name": "discovery_condition",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "introduction_type": {
          "name": "introduction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "presentation_style": {
          "name": "presentation_style",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hook_content": {
          "name": "hook_content",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_introductions_stage_id_quest_stages_id_fk": {
          "name": "quest_introductions_stage_id_quest_stages_id_fk",
          "tableFrom": "quest_introductions",
          "columnsFrom": [
            "stage_id"
          ],
          "tableTo": "quest_stages",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "quest_introductions_site_id_sites_id_fk": {
          "name": "quest_introductions_site_id_sites_id_fk",
          "tableFrom": "quest_introductions",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "quest_introductions_faction_id_factions_id_fk": {
          "name": "quest_introductions_faction_id_factions_id_fk",
          "tableFrom": "quest_introductions",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "quest_introductions_item_id_items_id_fk": {
          "name": "quest_introductions_item_id_items_id_fk",
          "tableFrom": "quest_introductions",
          "columnsFrom": [
            "item_id"
          ],
          "tableTo": "items",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quest_introductions_stage_id_site_id_faction_id_item_id_unique": {
          "name": "quest_introductions_stage_id_site_id_faction_id_item_id_unique",
          "columns": [
            "stage_id",
            "site_id",
            "faction_id",
            "item_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.region_connection_details": {
      "name": "region_connection_details",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "relation_id": {
          "name": "relation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "route_type": {
          "name": "route_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "travel_difficulty": {
          "name": "travel_difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "travel_time": {
          "name": "travel_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "controlling_faction": {
          "name": "controlling_faction",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "travel_hazards": {
          "name": "travel_hazards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "points_of_interest": {
          "name": "points_of_interest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "region_connection_details_relation_id_region_connections_id_fk": {
          "name": "region_connection_details_relation_id_region_connections_id_fk",
          "tableFrom": "region_connection_details",
          "columnsFrom": [
            "relation_id"
          ],
          "tableTo": "region_connections",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "region_connection_details_controlling_faction_factions_id_fk": {
          "name": "region_connection_details_controlling_faction_factions_id_fk",
          "tableFrom": "region_connection_details",
          "columnsFrom": [
            "controlling_faction"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "region_connection_details_relation_id_unique": {
          "name": "region_connection_details_relation_id_unique",
          "columns": [
            "relation_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conflict_participants": {
      "name": "conflict_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conflict_id": {
          "name": "conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "motivation": {
          "name": "motivation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "public_stance": {
          "name": "public_stance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret_stance": {
          "name": "secret_stance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resources": {
          "name": "resources",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conflict_participants_conflict_id_major_conflicts_id_fk": {
          "name": "conflict_participants_conflict_id_major_conflicts_id_fk",
          "tableFrom": "conflict_participants",
          "columnsFrom": [
            "conflict_id"
          ],
          "tableTo": "major_conflicts",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "conflict_participants_faction_id_factions_id_fk": {
          "name": "conflict_participants_faction_id_factions_id_fk",
          "tableFrom": "conflict_participants",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conflict_progression": {
      "name": "conflict_progression",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conflict_id": {
          "name": "conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'no_change'"
        },
        "notes": {
          "name": "notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conflict_progression_conflict_id_major_conflicts_id_fk": {
          "name": "conflict_progression_conflict_id_major_conflicts_id_fk",
          "tableFrom": "conflict_progression",
          "columnsFrom": [
            "conflict_id"
          ],
          "tableTo": "major_conflicts",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "conflict_progression_quest_id_quests_id_fk": {
          "name": "conflict_progression_quest_id_quests_id_fk",
          "tableFrom": "conflict_progression",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.major_conflicts": {
      "name": "major_conflicts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nature": {
          "name": "nature",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "cause": {
          "name": "cause",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "stakes": {
          "name": "stakes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "primary_region_id": {
          "name": "primary_region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "moral_dilemma": {
          "name": "moral_dilemma",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "possible_outcomes": {
          "name": "possible_outcomes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hidden_truths": {
          "name": "hidden_truths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "major_conflicts_primary_region_id_regions_id_fk": {
          "name": "major_conflicts_primary_region_id_regions_id_fk",
          "tableFrom": "major_conflicts",
          "columnsFrom": [
            "primary_region_id"
          ],
          "tableTo": "regions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "major_conflicts_name_unique": {
          "name": "major_conflicts_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.embeddings": {
      "name": "embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(3072)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_agendas": {
      "name": "faction_agendas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agenda_type": {
          "name": "agenda_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_stage": {
          "name": "current_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "importance": {
          "name": "importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ultimate_aim": {
          "name": "ultimate_aim",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moral_ambiguity": {
          "name": "moral_ambiguity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hidden_costs": {
          "name": "hidden_costs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "key_opponents": {
          "name": "key_opponents",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "internal_conflicts": {
          "name": "internal_conflicts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "approach": {
          "name": "approach",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "public_image": {
          "name": "public_image",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "personal_stakes": {
          "name": "personal_stakes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "story_hooks": {
          "name": "story_hooks",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_agendas_faction_id_factions_id_fk": {
          "name": "faction_agendas_faction_id_factions_id_fk",
          "tableFrom": "faction_agendas",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "faction_agendas_embedding_id_embeddings_id_fk": {
          "name": "faction_agendas_embedding_id_embeddings_id_fk",
          "tableFrom": "faction_agendas",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_agendas_name_unique": {
          "name": "faction_agendas_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        },
        "faction_agendas_faction_id_name_unique": {
          "name": "faction_agendas_faction_id_name_unique",
          "columns": [
            "faction_id",
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_culture": {
      "name": "faction_culture",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "symbols": {
          "name": "symbols",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rituals": {
          "name": "rituals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "taboos": {
          "name": "taboos",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "aesthetics": {
          "name": "aesthetics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "jargon": {
          "name": "jargon",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "recognition_signs": {
          "name": "recognition_signs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_culture_faction_id_factions_id_fk": {
          "name": "faction_culture_faction_id_factions_id_fk",
          "tableFrom": "faction_culture",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "faction_culture_embedding_id_embeddings_id_fk": {
          "name": "faction_culture_embedding_id_embeddings_id_fk",
          "tableFrom": "faction_culture",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_culture_faction_id_unique": {
          "name": "faction_culture_faction_id_unique",
          "columns": [
            "faction_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_diplomacy": {
      "name": "faction_diplomacy",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "other_faction_id": {
          "name": "other_faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "diplomatic_status": {
          "name": "diplomatic_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_diplomacy_faction_id_factions_id_fk": {
          "name": "faction_diplomacy_faction_id_factions_id_fk",
          "tableFrom": "faction_diplomacy",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "faction_diplomacy_other_faction_id_factions_id_fk": {
          "name": "faction_diplomacy_other_faction_id_factions_id_fk",
          "tableFrom": "faction_diplomacy",
          "columnsFrom": [
            "other_faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_diplomacy_faction_id_other_faction_id_unique": {
          "name": "faction_diplomacy_faction_id_other_faction_id_unique",
          "columns": [
            "faction_id",
            "other_faction_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_headquarters": {
      "name": "faction_headquarters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_headquarters_faction_id_factions_id_fk": {
          "name": "faction_headquarters_faction_id_factions_id_fk",
          "tableFrom": "faction_headquarters",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "faction_headquarters_site_id_sites_id_fk": {
          "name": "faction_headquarters_site_id_sites_id_fk",
          "tableFrom": "faction_headquarters",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_headquarters_faction_id_site_id_unique": {
          "name": "faction_headquarters_faction_id_site_id_unique",
          "columns": [
            "faction_id",
            "site_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factions": {
      "name": "factions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alignment": {
          "name": "alignment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wealth": {
          "name": "wealth",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reach": {
          "name": "reach",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "public_goal": {
          "name": "public_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "public_perception": {
          "name": "public_perception",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret_goal": {
          "name": "secret_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "values": {
          "name": "values",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "history": {
          "name": "history",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "resources": {
          "name": "resources",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "recruitment": {
          "name": "recruitment",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "factions_embedding_id_embeddings_id_fk": {
          "name": "factions_embedding_id_embeddings_id_fk",
          "tableFrom": "factions",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "factions_name_unique": {
          "name": "factions_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.narrative_foreshadowing": {
      "name": "narrative_foreshadowing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_stage_id": {
          "name": "quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "discovery_condition": {
          "name": "discovery_condition",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "subtlety": {
          "name": "subtlety",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'moderate'"
        },
        "narrative_weight": {
          "name": "narrative_weight",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'supporting'"
        },
        "foreshadows_quest_id": {
          "name": "foreshadows_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "foreshadows_twist_id": {
          "name": "foreshadows_twist_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "foreshadows_npc_id": {
          "name": "foreshadows_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "foreshadows_arc_id": {
          "name": "foreshadows_arc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "foreshadows_element": {
          "name": "foreshadows_element",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discovered": {
          "name": "discovered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "granted_to_players": {
          "name": "granted_to_players",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "player_notes": {
          "name": "player_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "narrative_foreshadowing_quest_stage_id_quest_stages_id_fk": {
          "name": "narrative_foreshadowing_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "quest_stage_id"
          ],
          "tableTo": "quest_stages",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "narrative_foreshadowing_site_id_sites_id_fk": {
          "name": "narrative_foreshadowing_site_id_sites_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "narrative_foreshadowing_npc_id_npcs_id_fk": {
          "name": "narrative_foreshadowing_npc_id_npcs_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "narrative_foreshadowing_faction_id_factions_id_fk": {
          "name": "narrative_foreshadowing_faction_id_factions_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "narrative_foreshadowing_foreshadows_quest_id_quests_id_fk": {
          "name": "narrative_foreshadowing_foreshadows_quest_id_quests_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "foreshadows_quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "narrative_foreshadowing_foreshadows_twist_id_quest_twists_id_fk": {
          "name": "narrative_foreshadowing_foreshadows_twist_id_quest_twists_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "foreshadows_twist_id"
          ],
          "tableTo": "quest_twists",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "narrative_foreshadowing_foreshadows_npc_id_npcs_id_fk": {
          "name": "narrative_foreshadowing_foreshadows_npc_id_npcs_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "foreshadows_npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "narrative_foreshadowing_foreshadows_arc_id_narrative_arcs_id_fk": {
          "name": "narrative_foreshadowing_foreshadows_arc_id_narrative_arcs_id_fk",
          "tableFrom": "narrative_foreshadowing",
          "columnsFrom": [
            "foreshadows_arc_id"
          ],
          "tableTo": "narrative_arcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.arc_membership": {
      "name": "arc_membership",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "arc_id": {
          "name": "arc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "arc_membership_arc_id_narrative_arcs_id_fk": {
          "name": "arc_membership_arc_id_narrative_arcs_id_fk",
          "tableFrom": "arc_membership",
          "columnsFrom": [
            "arc_id"
          ],
          "tableTo": "narrative_arcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "arc_membership_quest_id_quests_id_fk": {
          "name": "arc_membership_quest_id_quests_id_fk",
          "tableFrom": "arc_membership",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.narrative_arcs": {
      "name": "narrative_arcs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "promise": {
          "name": "promise",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payoff": {
          "name": "payoff",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "themes": {
          "name": "themes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "foreshadowing_elements": {
          "name": "foreshadowing_elements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "narrative_arcs_name_unique": {
          "name": "narrative_arcs_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_relationships": {
      "name": "character_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "related_npc_id": {
          "name": "related_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "history": {
          "name": "history",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_tensions": {
          "name": "narrative_tensions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "shared_goals": {
          "name": "shared_goals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_dynamics": {
          "name": "relationship_dynamics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_relationships_npc_id_npcs_id_fk": {
          "name": "character_relationships_npc_id_npcs_id_fk",
          "tableFrom": "character_relationships",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "character_relationships_related_npc_id_npcs_id_fk": {
          "name": "character_relationships_related_npc_id_npcs_id_fk",
          "tableFrom": "character_relationships",
          "columnsFrom": [
            "related_npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "character_relationships_npc_id_related_npc_id_unique": {
          "name": "character_relationships_npc_id_related_npc_id_unique",
          "columns": [
            "npc_id",
            "related_npc_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.npc_factions": {
      "name": "npc_factions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "loyalty": {
          "name": "loyalty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "justification": {
          "name": "justification",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rank": {
          "name": "rank",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secrets": {
          "name": "secrets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "npc_factions_npc_id_npcs_id_fk": {
          "name": "npc_factions_npc_id_npcs_id_fk",
          "tableFrom": "npc_factions",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "npc_factions_faction_id_factions_id_fk": {
          "name": "npc_factions_faction_id_factions_id_fk",
          "tableFrom": "npc_factions",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npc_factions_npc_id_faction_id_unique": {
          "name": "npc_factions_npc_id_faction_id_unique",
          "columns": [
            "npc_id",
            "faction_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.npc_sites": {
      "name": "npc_sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "npc_sites_npc_id_npcs_id_fk": {
          "name": "npc_sites_npc_id_npcs_id_fk",
          "tableFrom": "npc_sites",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "npc_sites_site_id_sites_id_fk": {
          "name": "npc_sites_site_id_sites_id_fk",
          "tableFrom": "npc_sites",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npc_sites_npc_id_site_id_unique": {
          "name": "npc_sites_npc_id_site_id_unique",
          "columns": [
            "npc_id",
            "site_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.npcs": {
      "name": "npcs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alignment": {
          "name": "alignment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "disposition": {
          "name": "disposition",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "race": {
          "name": "race",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trust_level": {
          "name": "trust_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wealth": {
          "name": "wealth",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "adaptability": {
          "name": "adaptability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "age": {
          "name": "age",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attitude": {
          "name": "attitude",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "occupation": {
          "name": "occupation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quirk": {
          "name": "quirk",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "social_status": {
          "name": "social_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "appearance": {
          "name": "appearance",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "avoid_topics": {
          "name": "avoid_topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "background": {
          "name": "background",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "biases": {
          "name": "biases",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "dialogue": {
          "name": "dialogue",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "drives": {
          "name": "drives",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "fears": {
          "name": "fears",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge": {
          "name": "knowledge",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "mannerisms": {
          "name": "mannerisms",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "personality_traits": {
          "name": "personality_traits",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "preferred_topics": {
          "name": "preferred_topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rumours": {
          "name": "rumours",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "secrets": {
          "name": "secrets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "voice_notes": {
          "name": "voice_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "npcs_embedding_id_embeddings_id_fk": {
          "name": "npcs_embedding_id_embeddings_id_fk",
          "tableFrom": "npcs",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npcs_name_unique": {
          "name": "npcs_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.decision_outcomes": {
      "name": "decision_outcomes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "decision_id": {
          "name": "decision_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "affected_stage_id": {
          "name": "affected_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_type": {
          "name": "outcome_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "delay_factor": {
          "name": "delay_factor",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "decision_outcomes_decision_id_stage_decisions_id_fk": {
          "name": "decision_outcomes_decision_id_stage_decisions_id_fk",
          "tableFrom": "decision_outcomes",
          "columnsFrom": [
            "decision_id"
          ],
          "tableTo": "stage_decisions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "decision_outcomes_affected_stage_id_quest_stages_id_fk": {
          "name": "decision_outcomes_affected_stage_id_quest_stages_id_fk",
          "tableFrom": "decision_outcomes",
          "columnsFrom": [
            "affected_stage_id"
          ],
          "tableTo": "quest_stages",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "decision_outcomes_outcome_type_decision_id_unique": {
          "name": "decision_outcomes_outcome_type_decision_id_unique",
          "columns": [
            "outcome_type",
            "decision_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quest_dependencies": {
      "name": "quest_dependencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "related_quest_id": {
          "name": "related_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "dependency_type": {
          "name": "dependency_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_dependencies_quest_id_quests_id_fk": {
          "name": "quest_dependencies_quest_id_quests_id_fk",
          "tableFrom": "quest_dependencies",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "quest_dependencies_related_quest_id_quests_id_fk": {
          "name": "quest_dependencies_related_quest_id_quests_id_fk",
          "tableFrom": "quest_dependencies",
          "columnsFrom": [
            "related_quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quest_dependencies_quest_id_related_quest_id_unique": {
          "name": "quest_dependencies_quest_id_related_quest_id_unique",
          "columns": [
            "quest_id",
            "related_quest_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quest_stages": {
      "name": "quest_stages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dramatic_question": {
          "name": "dramatic_question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "objectives": {
          "name": "objectives",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "completion_paths": {
          "name": "completion_paths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "encounters": {
          "name": "encounters",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "dramatic_moments": {
          "name": "dramatic_moments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "sensory_elements": {
          "name": "sensory_elements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_stages_quest_id_quests_id_fk": {
          "name": "quest_stages_quest_id_quests_id_fk",
          "tableFrom": "quest_stages",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "quest_stages_site_id_sites_id_fk": {
          "name": "quest_stages_site_id_sites_id_fk",
          "tableFrom": "quest_stages",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "quest_stages_embedding_id_embeddings_id_fk": {
          "name": "quest_stages_embedding_id_embeddings_id_fk",
          "tableFrom": "quest_stages",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quest_stages_name_unique": {
          "name": "quest_stages_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quest_twists": {
      "name": "quest_twists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "twist_type": {
          "name": "twist_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_placement": {
          "name": "narrative_placement",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_twists_quest_id_quests_id_fk": {
          "name": "quest_twists_quest_id_quests_id_fk",
          "tableFrom": "quest_twists",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quest_unlock_conditions": {
      "name": "quest_unlock_conditions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "condition_type": {
          "name": "condition_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition_details": {
          "name": "condition_details",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "importance": {
          "name": "importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_unlock_conditions_quest_id_quests_id_fk": {
          "name": "quest_unlock_conditions_quest_id_quests_id_fk",
          "tableFrom": "quest_unlock_conditions",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quests": {
      "name": "quests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "urgency": {
          "name": "urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mood": {
          "name": "mood",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "failure_outcomes": {
          "name": "failure_outcomes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "success_outcomes": {
          "name": "success_outcomes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "objectives": {
          "name": "objectives",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rewards": {
          "name": "rewards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "themes": {
          "name": "themes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "inspirations": {
          "name": "inspirations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quests_region_id_regions_id_fk": {
          "name": "quests_region_id_regions_id_fk",
          "tableFrom": "quests",
          "columnsFrom": [
            "region_id"
          ],
          "tableTo": "regions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "quests_embedding_id_embeddings_id_fk": {
          "name": "quests_embedding_id_embeddings_id_fk",
          "tableFrom": "quests",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quests_name_unique": {
          "name": "quests_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stage_decisions": {
      "name": "stage_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "from_stage_id": {
          "name": "from_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "to_stage_id": {
          "name": "to_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "condition_type": {
          "name": "condition_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decision_type": {
          "name": "decision_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition_value": {
          "name": "condition_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "success_description": {
          "name": "success_description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "failure_description": {
          "name": "failure_description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_transition": {
          "name": "narrative_transition",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "potential_player_reactions": {
          "name": "potential_player_reactions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "options": {
          "name": "options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "stage_decisions_quest_id_quests_id_fk": {
          "name": "stage_decisions_quest_id_quests_id_fk",
          "tableFrom": "stage_decisions",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "stage_decisions_from_stage_id_quest_stages_id_fk": {
          "name": "stage_decisions_from_stage_id_quest_stages_id_fk",
          "tableFrom": "stage_decisions",
          "columnsFrom": [
            "from_stage_id"
          ],
          "tableTo": "quest_stages",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "stage_decisions_to_stage_id_quest_stages_id_fk": {
          "name": "stage_decisions_to_stage_id_quest_stages_id_fk",
          "tableFrom": "stage_decisions",
          "columnsFrom": [
            "to_stage_id"
          ],
          "tableTo": "quest_stages",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "stage_decisions_quest_id_from_stage_id_to_stage_id_unique": {
          "name": "stage_decisions_quest_id_from_stage_id_to_stage_id_unique",
          "columns": [
            "quest_id",
            "from_stage_id",
            "to_stage_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.areas": {
      "name": "areas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "danger_level": {
          "name": "danger_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "leadership": {
          "name": "leadership",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "population": {
          "name": "population",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "primary_activity": {
          "name": "primary_activity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "cultural_notes": {
          "name": "cultural_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hazards": {
          "name": "hazards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "points_of_interest": {
          "name": "points_of_interest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rumors": {
          "name": "rumors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "defenses": {
          "name": "defenses",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "areas_region_id_regions_id_fk": {
          "name": "areas_region_id_regions_id_fk",
          "tableFrom": "areas",
          "columnsFrom": [
            "region_id"
          ],
          "tableTo": "regions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "areas_embedding_id_embeddings_id_fk": {
          "name": "areas_embedding_id_embeddings_id_fk",
          "tableFrom": "areas",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "areas_name_unique": {
          "name": "areas_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.region_connections": {
      "name": "region_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "other_region_id": {
          "name": "other_region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "connection_type": {
          "name": "connection_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "region_connections_region_id_regions_id_fk": {
          "name": "region_connections_region_id_regions_id_fk",
          "tableFrom": "region_connections",
          "columnsFrom": [
            "region_id"
          ],
          "tableTo": "regions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "region_connections_other_region_id_regions_id_fk": {
          "name": "region_connections_other_region_id_regions_id_fk",
          "tableFrom": "region_connections",
          "columnsFrom": [
            "other_region_id"
          ],
          "tableTo": "regions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "region_connections_region_id_other_region_id_unique": {
          "name": "region_connections_region_id_other_region_id_unique",
          "columns": [
            "region_id",
            "other_region_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.regions": {
      "name": "regions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "danger_level": {
          "name": "danger_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "economy": {
          "name": "economy",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "history": {
          "name": "history",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "population": {
          "name": "population",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cultural_notes": {
          "name": "cultural_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hazards": {
          "name": "hazards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "points_of_interest": {
          "name": "points_of_interest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rumors": {
          "name": "rumors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "secrets": {
          "name": "secrets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "defenses": {
          "name": "defenses",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "regions_embedding_id_embeddings_id_fk": {
          "name": "regions_embedding_id_embeddings_id_fk",
          "tableFrom": "regions",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "regions_name_unique": {
          "name": "regions_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.site_encounters": {
      "name": "site_encounters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_type": {
          "name": "encounter_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "danger_level": {
          "name": "danger_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creatures": {
          "name": "creatures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "treasure": {
          "name": "treasure",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "site_encounters_site_id_sites_id_fk": {
          "name": "site_encounters_site_id_sites_id_fk",
          "tableFrom": "site_encounters",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "site_encounters_embedding_id_embeddings_id_fk": {
          "name": "site_encounters_embedding_id_embeddings_id_fk",
          "tableFrom": "site_encounters",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "site_encounters_name_unique": {
          "name": "site_encounters_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        },
        "site_encounters_site_id_name_unique": {
          "name": "site_encounters_site_id_name_unique",
          "columns": [
            "site_id",
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.site_links": {
      "name": "site_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "other_site_id": {
          "name": "other_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "site_links_site_id_sites_id_fk": {
          "name": "site_links_site_id_sites_id_fk",
          "tableFrom": "site_links",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "site_links_other_site_id_sites_id_fk": {
          "name": "site_links_other_site_id_sites_id_fk",
          "tableFrom": "site_links",
          "columnsFrom": [
            "other_site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "site_links_site_id_other_site_id_unique": {
          "name": "site_links_site_id_other_site_id_unique",
          "columns": [
            "site_id",
            "other_site_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.site_secrets": {
      "name": "site_secrets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "secret_type": {
          "name": "secret_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discovery_method": {
          "name": "discovery_method",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "consequences": {
          "name": "consequences",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "site_secrets_site_id_sites_id_fk": {
          "name": "site_secrets_site_id_sites_id_fk",
          "tableFrom": "site_secrets",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "site_secrets_embedding_id_embeddings_id_fk": {
          "name": "site_secrets_embedding_id_embeddings_id_fk",
          "tableFrom": "site_secrets",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sites": {
      "name": "sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "area_id": {
          "name": "area_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_type": {
          "name": "site_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "terrain": {
          "name": "terrain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "climate": {
          "name": "climate",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mood": {
          "name": "mood",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "environment": {
          "name": "environment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creatures": {
          "name": "creatures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "features": {
          "name": "features",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "treasures": {
          "name": "treasures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "lighting_description": {
          "name": "lighting_description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "soundscape": {
          "name": "soundscape",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "smells": {
          "name": "smells",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "weather": {
          "name": "weather",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "descriptors": {
          "name": "descriptors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_id": {
          "name": "embedding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sites_area_id_areas_id_fk": {
          "name": "sites_area_id_areas_id_fk",
          "tableFrom": "sites",
          "columnsFrom": [
            "area_id"
          ],
          "tableTo": "areas",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "sites_embedding_id_embeddings_id_fk": {
          "name": "sites_embedding_id_embeddings_id_fk",
          "tableFrom": "sites",
          "columnsFrom": [
            "embedding_id"
          ],
          "tableTo": "embeddings",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sites_name_unique": {
          "name": "sites_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.world_state_changes": {
      "name": "world_state_changes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'moderate'"
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'obvious'"
        },
        "timeframe": {
          "name": "timeframe",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'immediate'"
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "decision_id": {
          "name": "decision_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_id": {
          "name": "conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "area_id": {
          "name": "area_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "arc_id": {
          "name": "arc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_date": {
          "name": "recorded_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "future_quest_id": {
          "name": "future_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_resolved": {
          "name": "is_resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "world_state_changes_quest_id_quests_id_fk": {
          "name": "world_state_changes_quest_id_quests_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_decision_id_stage_decisions_id_fk": {
          "name": "world_state_changes_decision_id_stage_decisions_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "decision_id"
          ],
          "tableTo": "stage_decisions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_conflict_id_major_conflicts_id_fk": {
          "name": "world_state_changes_conflict_id_major_conflicts_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "conflict_id"
          ],
          "tableTo": "major_conflicts",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_faction_id_factions_id_fk": {
          "name": "world_state_changes_faction_id_factions_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "faction_id"
          ],
          "tableTo": "factions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_region_id_regions_id_fk": {
          "name": "world_state_changes_region_id_regions_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "region_id"
          ],
          "tableTo": "regions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_area_id_areas_id_fk": {
          "name": "world_state_changes_area_id_areas_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "area_id"
          ],
          "tableTo": "areas",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_site_id_sites_id_fk": {
          "name": "world_state_changes_site_id_sites_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "site_id"
          ],
          "tableTo": "sites",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_npc_id_npcs_id_fk": {
          "name": "world_state_changes_npc_id_npcs_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "npc_id"
          ],
          "tableTo": "npcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_arc_id_narrative_arcs_id_fk": {
          "name": "world_state_changes_arc_id_narrative_arcs_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "arc_id"
          ],
          "tableTo": "narrative_arcs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        },
        "world_state_changes_future_quest_id_quests_id_fk": {
          "name": "world_state_changes_future_quest_id_quests_id_fk",
          "tableFrom": "world_state_changes",
          "columnsFrom": [
            "future_quest_id"
          ],
          "tableTo": "quests",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "world_state_changes_name_unique": {
          "name": "world_state_changes_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "views": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}