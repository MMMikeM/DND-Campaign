{
  "id": "09bd8d9c-7421-40d7-9191-6246d60084a3",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.conflict_participants": {
      "name": "conflict_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_id": {
          "name": "conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "motivation": {
          "name": "motivation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "public_stance": {
          "name": "public_stance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret_stance": {
          "name": "secret_stance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conflict_participants_npc_id_npcs_id_fk": {
          "name": "conflict_participants_npc_id_npcs_id_fk",
          "tableFrom": "conflict_participants",
          "tableTo": "npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "conflict_participants_faction_id_factions_id_fk": {
          "name": "conflict_participants_faction_id_factions_id_fk",
          "tableFrom": "conflict_participants",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "conflict_participants_conflict_id_conflicts_id_fk": {
          "name": "conflict_participants_conflict_id_conflicts_id_fk",
          "tableFrom": "conflict_participants",
          "tableTo": "conflicts",
          "columnsFrom": [
            "conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "npc_or_faction_participant_exclusive": {
          "name": "npc_or_faction_participant_exclusive",
          "value": "(\"conflict_participants\".\"npc_id\" IS NOT NULL AND \"conflict_participants\".\"faction_id\" IS NULL) OR (\"conflict_participants\".\"npc_id\" IS NULL AND \"conflict_participants\".\"faction_id\" IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.conflicts": {
      "name": "conflicts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cause": {
          "name": "cause",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moral_dilemma": {
          "name": "moral_dilemma",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stakes": {
          "name": "stakes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "possible_outcomes": {
          "name": "possible_outcomes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hidden_truths": {
          "name": "hidden_truths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clarity_of_right_wrong": {
          "name": "clarity_of_right_wrong",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tension_level": {
          "name": "tension_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "natures": {
          "name": "natures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "quest_impacts": {
          "name": "quest_impacts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conflicts_region_id_regions_id_fk": {
          "name": "conflicts_region_id_regions_id_fk",
          "tableFrom": "conflicts",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "conflicts_name_unique": {
          "name": "conflicts_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_agendas": {
      "name": "faction_agendas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agenda_type": {
          "name": "agenda_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_stage": {
          "name": "current_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "importance": {
          "name": "importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ultimate_aim": {
          "name": "ultimate_aim",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moral_ambiguity": {
          "name": "moral_ambiguity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "approach": {
          "name": "approach",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "story_hooks": {
          "name": "story_hooks",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_agendas_faction_id_factions_id_fk": {
          "name": "faction_agendas_faction_id_factions_id_fk",
          "tableFrom": "faction_agendas",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_agendas_name_unique": {
          "name": "faction_agendas_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "faction_agendas_faction_id_name_unique": {
          "name": "faction_agendas_faction_id_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "faction_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_diplomacy": {
      "name": "faction_diplomacy",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_faction_id": {
          "name": "source_faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_faction_id": {
          "name": "target_faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "diplomatic_status": {
          "name": "diplomatic_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_diplomacy_source_faction_id_factions_id_fk": {
          "name": "faction_diplomacy_source_faction_id_factions_id_fk",
          "tableFrom": "faction_diplomacy",
          "tableTo": "factions",
          "columnsFrom": [
            "source_faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "faction_diplomacy_target_faction_id_factions_id_fk": {
          "name": "faction_diplomacy_target_faction_id_factions_id_fk",
          "tableFrom": "faction_diplomacy",
          "tableTo": "factions",
          "columnsFrom": [
            "target_faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faction_diplomacy_source_faction_id_target_faction_id_unique": {
          "name": "faction_diplomacy_source_faction_id_target_faction_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_faction_id",
            "target_faction_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faction_influence": {
      "name": "faction_influence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "area_id": {
          "name": "area_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "region_connection_id": {
          "name": "region_connection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "influence_level": {
          "name": "influence_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "presence_types": {
          "name": "presence_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "presence_details": {
          "name": "presence_details",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "priorities": {
          "name": "priorities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "faction_influence_faction_id_factions_id_fk": {
          "name": "faction_influence_faction_id_factions_id_fk",
          "tableFrom": "faction_influence",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "faction_influence_region_id_regions_id_fk": {
          "name": "faction_influence_region_id_regions_id_fk",
          "tableFrom": "faction_influence",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "faction_influence_area_id_areas_id_fk": {
          "name": "faction_influence_area_id_areas_id_fk",
          "tableFrom": "faction_influence",
          "tableTo": "areas",
          "columnsFrom": [
            "area_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "faction_influence_site_id_sites_id_fk": {
          "name": "faction_influence_site_id_sites_id_fk",
          "tableFrom": "faction_influence",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "faction_influence_region_connection_id_region_connections_id_fk": {
          "name": "faction_influence_region_connection_id_region_connections_id_fk",
          "tableFrom": "faction_influence",
          "tableTo": "region_connections",
          "columnsFrom": [
            "region_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "region_or_area_or_site": {
          "name": "region_or_area_or_site",
          "value": "(\"faction_influence\".\"region_id\" IS NOT NULL AND \"faction_influence\".\"area_id\" IS NULL AND \"faction_influence\".\"site_id\" IS NULL) \n\t\t\tOR  (\"faction_influence\".\"region_id\" IS NULL AND \"faction_influence\".\"area_id\" IS NOT NULL AND \"faction_influence\".\"site_id\" IS NULL) \n\t\t\tOR  (\"faction_influence\".\"region_id\" IS NULL AND \"faction_influence\".\"area_id\" IS NULL AND \"faction_influence\".\"site_id\" IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.factions": {
      "name": "factions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hq_site_id": {
          "name": "hq_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "size": {
          "name": "size",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wealth": {
          "name": "wealth",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reach": {
          "name": "reach",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "transparency_level": {
          "name": "transparency_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "public_alignment": {
          "name": "public_alignment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret_alignment": {
          "name": "secret_alignment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "public_perception": {
          "name": "public_perception",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "public_goal": {
          "name": "public_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret_goal": {
          "name": "secret_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "values": {
          "name": "values",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "history": {
          "name": "history",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "symbols": {
          "name": "symbols",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rituals": {
          "name": "rituals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "taboos": {
          "name": "taboos",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "aesthetics": {
          "name": "aesthetics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "jargon": {
          "name": "jargon",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "recognition_signs": {
          "name": "recognition_signs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "factions_hq_site_id_sites_id_fk": {
          "name": "factions_hq_site_id_sites_id_fk",
          "tableFrom": "factions",
          "tableTo": "sites",
          "columnsFrom": [
            "hq_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "factions_name_unique": {
          "name": "factions_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_faction_transparency_rules": {
          "name": "chk_faction_transparency_rules",
          "value": "NOT ((\"factions\".\"transparency_level\" = 'transparent') AND (\"factions\".\"secret_alignment\" IS NOT NULL OR \"factions\".\"secret_goal\" IS NOT NULL))"
        }
      },
      "isRLSEnabled": false
    },
    "public.foreshadowing": {
      "name": "foreshadowing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "target_entity_type": {
          "name": "target_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_quest_id": {
          "name": "target_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_npc_id": {
          "name": "target_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_narrative_event_id": {
          "name": "target_narrative_event_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_conflict_id": {
          "name": "target_conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_item_id": {
          "name": "target_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_narrative_destination_id": {
          "name": "target_narrative_destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_world_concept_id": {
          "name": "target_world_concept_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_faction_id": {
          "name": "target_faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_site_id": {
          "name": "target_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_abstract_detail": {
          "name": "target_abstract_detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_quest_id": {
          "name": "source_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_quest_stage_id": {
          "name": "source_quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_site_id": {
          "name": "source_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_npc_id": {
          "name": "source_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "subtlety": {
          "name": "subtlety",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_weight": {
          "name": "narrative_weight",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "suggested_delivery_methods": {
          "name": "suggested_delivery_methods",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "foreshadowing_target_quest_id_quests_id_fk": {
          "name": "foreshadowing_target_quest_id_quests_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "quests",
          "columnsFrom": [
            "target_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_npc_id_npcs_id_fk": {
          "name": "foreshadowing_target_npc_id_npcs_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "npcs",
          "columnsFrom": [
            "target_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_narrative_event_id_narrative_events_id_fk": {
          "name": "foreshadowing_target_narrative_event_id_narrative_events_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "narrative_events",
          "columnsFrom": [
            "target_narrative_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_conflict_id_conflicts_id_fk": {
          "name": "foreshadowing_target_conflict_id_conflicts_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "conflicts",
          "columnsFrom": [
            "target_conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_item_id_items_id_fk": {
          "name": "foreshadowing_target_item_id_items_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "items",
          "columnsFrom": [
            "target_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_narrative_destination_id_narrative_destinations_id_fk": {
          "name": "foreshadowing_target_narrative_destination_id_narrative_destinations_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "narrative_destinations",
          "columnsFrom": [
            "target_narrative_destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_world_concept_id_world_concepts_id_fk": {
          "name": "foreshadowing_target_world_concept_id_world_concepts_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "world_concepts",
          "columnsFrom": [
            "target_world_concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_faction_id_factions_id_fk": {
          "name": "foreshadowing_target_faction_id_factions_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "factions",
          "columnsFrom": [
            "target_faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_target_site_id_sites_id_fk": {
          "name": "foreshadowing_target_site_id_sites_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "sites",
          "columnsFrom": [
            "target_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_source_quest_id_quests_id_fk": {
          "name": "foreshadowing_source_quest_id_quests_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "quests",
          "columnsFrom": [
            "source_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_source_quest_stage_id_quest_stages_id_fk": {
          "name": "foreshadowing_source_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "quest_stages",
          "columnsFrom": [
            "source_quest_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_source_site_id_sites_id_fk": {
          "name": "foreshadowing_source_site_id_sites_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "sites",
          "columnsFrom": [
            "source_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "foreshadowing_source_npc_id_npcs_id_fk": {
          "name": "foreshadowing_source_npc_id_npcs_id_fk",
          "tableFrom": "foreshadowing",
          "tableTo": "npcs",
          "columnsFrom": [
            "source_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "foreshadowing_name_unique": {
          "name": "foreshadowing_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_foreshadowing_target_exclusive_and_correct": {
          "name": "chk_foreshadowing_target_exclusive_and_correct",
          "value": "\n\t\tCASE \"foreshadowing\".\"target_entity_type\"\n\t\t\tWHEN 'quest' THEN (\"foreshadowing\".\"target_quest_id\" IS NOT NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'npc' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NOT NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'narrative_event' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NOT NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'conflict' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NOT NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'item' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NOT NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'narrative_destination' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NOT NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'world_concept' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NOT NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'faction' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NOT NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'site' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NOT NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NULL)\n\t\t\tWHEN 'abstract_theme' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NOT NULL)\n\t\t\tWHEN 'specific_reveal' THEN (\"foreshadowing\".\"target_quest_id\" IS NULL AND \"foreshadowing\".\"target_npc_id\" IS NULL AND \"foreshadowing\".\"target_narrative_event_id\" IS NULL AND \"foreshadowing\".\"target_conflict_id\" IS NULL AND \"foreshadowing\".\"target_item_id\" IS NULL AND \"foreshadowing\".\"target_narrative_destination_id\" IS NULL AND \"foreshadowing\".\"target_world_concept_id\" IS NULL AND \"foreshadowing\".\"target_faction_id\" IS NULL AND \"foreshadowing\".\"target_site_id\" IS NULL AND \"foreshadowing\".\"target_abstract_detail\" IS NOT NULL)\n\t\t\tELSE FALSE\n\t\tEND\n\t\t"
        }
      },
      "isRLSEnabled": false
    },
    "public.item_notable_history": {
      "name": "item_notable_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "key_npc_id": {
          "name": "key_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "location_site_id": {
          "name": "location_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "event_description": {
          "name": "event_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe": {
          "name": "timeframe",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "npc_role_in_event": {
          "name": "npc_role_in_event",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "item_notable_history_item_id_items_id_fk": {
          "name": "item_notable_history_item_id_items_id_fk",
          "tableFrom": "item_notable_history",
          "tableTo": "items",
          "columnsFrom": [
            "item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "item_notable_history_key_npc_id_npcs_id_fk": {
          "name": "item_notable_history_key_npc_id_npcs_id_fk",
          "tableFrom": "item_notable_history",
          "tableTo": "npcs",
          "columnsFrom": [
            "key_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_notable_history_location_site_id_sites_id_fk": {
          "name": "item_notable_history_location_site_id_sites_id_fk",
          "tableFrom": "item_notable_history",
          "tableTo": "sites",
          "columnsFrom": [
            "location_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.item_relationships": {
      "name": "item_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_item_id": {
          "name": "source_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_entity_type": {
          "name": "target_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_item_id": {
          "name": "target_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_npc_id": {
          "name": "target_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_faction_id": {
          "name": "target_faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_site_id": {
          "name": "target_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_quest_id": {
          "name": "target_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_conflict_id": {
          "name": "target_conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_narrative_destination_id": {
          "name": "target_narrative_destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_world_concept_id": {
          "name": "target_world_concept_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_details": {
          "name": "relationship_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "item_relationships_source_item_id_items_id_fk": {
          "name": "item_relationships_source_item_id_items_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "items",
          "columnsFrom": [
            "source_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "item_relationships_target_item_id_items_id_fk": {
          "name": "item_relationships_target_item_id_items_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "items",
          "columnsFrom": [
            "target_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_relationships_target_npc_id_npcs_id_fk": {
          "name": "item_relationships_target_npc_id_npcs_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "npcs",
          "columnsFrom": [
            "target_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_relationships_target_faction_id_factions_id_fk": {
          "name": "item_relationships_target_faction_id_factions_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "factions",
          "columnsFrom": [
            "target_faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_relationships_target_site_id_sites_id_fk": {
          "name": "item_relationships_target_site_id_sites_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "sites",
          "columnsFrom": [
            "target_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_relationships_target_quest_id_quests_id_fk": {
          "name": "item_relationships_target_quest_id_quests_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "quests",
          "columnsFrom": [
            "target_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_relationships_target_conflict_id_conflicts_id_fk": {
          "name": "item_relationships_target_conflict_id_conflicts_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "conflicts",
          "columnsFrom": [
            "target_conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_relationships_target_narrative_destination_id_narrative_destinations_id_fk": {
          "name": "item_relationships_target_narrative_destination_id_narrative_destinations_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "narrative_destinations",
          "columnsFrom": [
            "target_narrative_destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "item_relationships_target_world_concept_id_world_concepts_id_fk": {
          "name": "item_relationships_target_world_concept_id_world_concepts_id_fk",
          "tableFrom": "item_relationships",
          "tableTo": "world_concepts",
          "columnsFrom": [
            "target_world_concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "item_relationships_source_item_id_target_entity_type_target_item_id_target_npc_id_target_faction_id_target_site_id_target_quest_id_target_conflict_id_target_narrative_destination_id_target_world_concept_id_relationship_type_unique": {
          "name": "item_relationships_source_item_id_target_entity_type_target_item_id_target_npc_id_target_faction_id_target_site_id_target_quest_id_target_conflict_id_target_narrative_destination_id_target_world_concept_id_relationship_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_item_id",
            "target_entity_type",
            "target_item_id",
            "target_npc_id",
            "target_faction_id",
            "target_site_id",
            "target_quest_id",
            "target_conflict_id",
            "target_narrative_destination_id",
            "target_world_concept_id",
            "relationship_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "single_related_entity_exclusive_and_correct": {
          "name": "single_related_entity_exclusive_and_correct",
          "value": "\n\t\t\tCASE \"item_relationships\".\"target_entity_type\"\n\t\t\t\tWHEN 'item' THEN (\"item_relationships\".\"target_item_id\" IS NOT NULL AND \"item_relationships\".\"target_npc_id\" IS NULL AND \"item_relationships\".\"target_faction_id\" IS NULL AND \"item_relationships\".\"target_site_id\" IS NULL AND \"item_relationships\".\"target_quest_id\" IS NULL AND \"item_relationships\".\"target_conflict_id\" IS NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NULL AND \"item_relationships\".\"target_world_concept_id\" IS NULL)\n\t\t\t\tWHEN 'npc' THEN (\"item_relationships\".\"target_item_id\" IS NULL AND \"item_relationships\".\"target_npc_id\" IS NOT NULL AND \"item_relationships\".\"target_faction_id\" IS NULL AND \"item_relationships\".\"target_site_id\" IS NULL AND \"item_relationships\".\"target_quest_id\" IS NULL AND \"item_relationships\".\"target_conflict_id\" IS NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NULL AND \"item_relationships\".\"target_world_concept_id\" IS NULL)\n\t\t\t\tWHEN 'faction' THEN (\"item_relationships\".\"target_item_id\" IS NULL AND \"item_relationships\".\"target_npc_id\" IS NULL AND \"item_relationships\".\"target_faction_id\" IS NOT NULL AND \"item_relationships\".\"target_site_id\" IS NULL AND \"item_relationships\".\"target_quest_id\" IS NULL AND \"item_relationships\".\"target_conflict_id\" IS NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NULL AND \"item_relationships\".\"target_world_concept_id\" IS NULL)\n\t\t\t\tWHEN 'site' THEN (\"item_relationships\".\"target_item_id\" IS NULL AND \"item_relationships\".\"target_npc_id\" IS NULL AND \"item_relationships\".\"target_faction_id\" IS NULL AND \"item_relationships\".\"target_site_id\" IS NOT NULL AND \"item_relationships\".\"target_quest_id\" IS NULL AND \"item_relationships\".\"target_conflict_id\" IS NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NULL AND \"item_relationships\".\"target_world_concept_id\" IS NULL)\n\t\t\t\tWHEN 'quest' THEN (\"item_relationships\".\"target_item_id\" IS NULL AND \"item_relationships\".\"target_npc_id\" IS NULL AND \"item_relationships\".\"target_faction_id\" IS NULL AND \"item_relationships\".\"target_site_id\" IS NULL AND \"item_relationships\".\"target_quest_id\" IS NOT NULL AND \"item_relationships\".\"target_conflict_id\" IS NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NULL AND \"item_relationships\".\"target_world_concept_id\" IS NULL)\n\t\t\t\tWHEN 'conflict' THEN (\"item_relationships\".\"target_item_id\" IS NULL AND \"item_relationships\".\"target_npc_id\" IS NULL AND \"item_relationships\".\"target_faction_id\" IS NULL AND \"item_relationships\".\"target_site_id\" IS NULL AND \"item_relationships\".\"target_quest_id\" IS NULL AND \"item_relationships\".\"target_conflict_id\" IS NOT NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NULL AND \"item_relationships\".\"target_world_concept_id\" IS NULL)\n\t\t\t\tWHEN 'narrative_destination' THEN (\"item_relationships\".\"target_item_id\" IS NULL AND \"item_relationships\".\"target_npc_id\" IS NULL AND \"item_relationships\".\"target_faction_id\" IS NULL AND \"item_relationships\".\"target_site_id\" IS NULL AND \"item_relationships\".\"target_quest_id\" IS NULL AND \"item_relationships\".\"target_conflict_id\" IS NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NOT NULL AND \"item_relationships\".\"target_world_concept_id\" IS NULL)\n\t\t\t\tWHEN 'world_concept' THEN (\"item_relationships\".\"target_item_id\" IS NULL AND \"item_relationships\".\"target_npc_id\" IS NULL AND \"item_relationships\".\"target_faction_id\" IS NULL AND \"item_relationships\".\"target_site_id\" IS NULL AND \"item_relationships\".\"target_quest_id\" IS NULL AND \"item_relationships\".\"target_conflict_id\" IS NULL AND \"item_relationships\".\"target_narrative_destination_id\" IS NULL AND \"item_relationships\".\"target_world_concept_id\" IS NOT NULL)\n\t\t\t\tELSE FALSE\n\t\t\tEND\n\t\t\t"
        }
      },
      "isRLSEnabled": false
    },
    "public.items": {
      "name": "items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quest_stage_id": {
          "name": "quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "item_type": {
          "name": "item_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rarity": {
          "name": "rarity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_role": {
          "name": "narrative_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "perceived_simplicity": {
          "name": "perceived_simplicity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "significance": {
          "name": "significance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lore_significance": {
          "name": "lore_significance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creation_period": {
          "name": "creation_period",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "place_of_origin": {
          "name": "place_of_origin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mechanical_effects": {
          "name": "mechanical_effects",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "items_quest_id_quests_id_fk": {
          "name": "items_quest_id_quests_id_fk",
          "tableFrom": "items",
          "tableTo": "quests",
          "columnsFrom": [
            "quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "items_quest_stage_id_quest_stages_id_fk": {
          "name": "items_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "items",
          "tableTo": "quest_stages",
          "columnsFrom": [
            "quest_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "items_name_unique": {
          "name": "items_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.map_details": {
      "name": "map_details",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "map_id": {
          "name": "map_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cover_options": {
          "name": "cover_options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "elevation_features": {
          "name": "elevation_features",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "movement_routes": {
          "name": "movement_routes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "difficult_terrain": {
          "name": "difficult_terrain",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "choke_points": {
          "name": "choke_points",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "sight_lines": {
          "name": "sight_lines",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tactical_positions": {
          "name": "tactical_positions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "interactive_elements": {
          "name": "interactive_elements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "environmental_hazards": {
          "name": "environmental_hazards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "map_details_map_id_maps_id_fk": {
          "name": "map_details_map_id_maps_id_fk",
          "tableFrom": "map_details",
          "tableTo": "maps",
          "columnsFrom": [
            "map_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "map_details_name_unique": {
          "name": "map_details_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.maps": {
      "name": "maps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "map_image": {
          "name": "map_image",
          "type": "bytea",
          "primaryKey": false,
          "notNull": true
        },
        "image_format": {
          "name": "image_format",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_size": {
          "name": "image_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "image_width": {
          "name": "image_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "image_height": {
          "name": "image_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "maps_file_name_unique": {
          "name": "maps_file_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "file_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.narrative_destination_participants": {
      "name": "narrative_destination_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_destination_id": {
          "name": "narrative_destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "role_in_arc": {
          "name": "role_in_arc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "arc_importance": {
          "name": "arc_importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "involvement_details": {
          "name": "involvement_details",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "narrative_destination_participants_narrative_destination_id_narrative_destinations_id_fk": {
          "name": "narrative_destination_participants_narrative_destination_id_narrative_destinations_id_fk",
          "tableFrom": "narrative_destination_participants",
          "tableTo": "narrative_destinations",
          "columnsFrom": [
            "narrative_destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "narrative_destination_participants_npc_id_npcs_id_fk": {
          "name": "narrative_destination_participants_npc_id_npcs_id_fk",
          "tableFrom": "narrative_destination_participants",
          "tableTo": "npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "narrative_destination_participants_faction_id_factions_id_fk": {
          "name": "narrative_destination_participants_faction_id_factions_id_fk",
          "tableFrom": "narrative_destination_participants",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "npc_or_faction_exclusive_participant": {
          "name": "npc_or_faction_exclusive_participant",
          "value": "(\"narrative_destination_participants\".\"npc_id\" IS NOT NULL AND \"narrative_destination_participants\".\"faction_id\" IS NULL)\n\t\t\t OR (\"narrative_destination_participants\".\"npc_id\" IS NULL AND \"narrative_destination_participants\".\"faction_id\" IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.narrative_destination_quest_roles": {
      "name": "narrative_destination_quest_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_destination_id": {
          "name": "narrative_destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_in_arc": {
          "name": "sequence_in_arc",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contribution_details": {
          "name": "contribution_details",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "narrative_destination_quest_roles_narrative_destination_id_narrative_destinations_id_fk": {
          "name": "narrative_destination_quest_roles_narrative_destination_id_narrative_destinations_id_fk",
          "tableFrom": "narrative_destination_quest_roles",
          "tableTo": "narrative_destinations",
          "columnsFrom": [
            "narrative_destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "narrative_destination_quest_roles_quest_id_quests_id_fk": {
          "name": "narrative_destination_quest_roles_quest_id_quests_id_fk",
          "tableFrom": "narrative_destination_quest_roles",
          "tableTo": "quests",
          "columnsFrom": [
            "quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "narrative_destination_quest_roles_narrative_destination_id_quest_id_unique": {
          "name": "narrative_destination_quest_roles_narrative_destination_id_quest_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "narrative_destination_id",
            "quest_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.narrative_destination_relationships": {
      "name": "narrative_destination_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_destination_id": {
          "name": "source_destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_destination_id": {
          "name": "target_destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_details": {
          "name": "relationship_details",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "narrative_destination_relationships_source_destination_id_narrative_destinations_id_fk": {
          "name": "narrative_destination_relationships_source_destination_id_narrative_destinations_id_fk",
          "tableFrom": "narrative_destination_relationships",
          "tableTo": "narrative_destinations",
          "columnsFrom": [
            "source_destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "narrative_destination_relationships_target_destination_id_narrative_destinations_id_fk": {
          "name": "narrative_destination_relationships_target_destination_id_narrative_destinations_id_fk",
          "tableFrom": "narrative_destination_relationships",
          "tableTo": "narrative_destinations",
          "columnsFrom": [
            "target_destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "narrative_destination_relationships_source_destination_id_target_destination_id_unique": {
          "name": "narrative_destination_relationships_source_destination_id_target_destination_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_destination_id",
            "target_destination_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_no_self_destination_relationship": {
          "name": "chk_no_self_destination_relationship",
          "value": "\"narrative_destination_relationships\".\"source_destination_id\" != \"narrative_destination_relationships\".\"target_destination_id\""
        }
      },
      "isRLSEnabled": false
    },
    "public.narrative_destinations": {
      "name": "narrative_destinations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "related_conflict_id": {
          "name": "related_conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intended_emotional_arc": {
          "name": "intended_emotional_arc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "promise": {
          "name": "promise",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payoff": {
          "name": "payoff",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "themes": {
          "name": "themes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "foreshadowing_elements": {
          "name": "foreshadowing_elements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "narrative_destinations_region_id_regions_id_fk": {
          "name": "narrative_destinations_region_id_regions_id_fk",
          "tableFrom": "narrative_destinations",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "narrative_destinations_related_conflict_id_conflicts_id_fk": {
          "name": "narrative_destinations_related_conflict_id_conflicts_id_fk",
          "tableFrom": "narrative_destinations",
          "tableTo": "conflicts",
          "columnsFrom": [
            "related_conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "narrative_destinations_name_unique": {
          "name": "narrative_destinations_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.consequences": {
      "name": "consequences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "consequence_type": {
          "name": "consequence_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe": {
          "name": "timeframe",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "player_impact_feel": {
          "name": "player_impact_feel",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_entity_type": {
          "name": "trigger_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_stage_decision_id": {
          "name": "trigger_stage_decision_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_quest_id": {
          "name": "trigger_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_conflict_id": {
          "name": "trigger_conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_entity_type": {
          "name": "affected_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_faction_id": {
          "name": "affected_faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_region_id": {
          "name": "affected_region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_area_id": {
          "name": "affected_area_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_site_id": {
          "name": "affected_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_npc_id": {
          "name": "affected_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_destination_id": {
          "name": "affected_destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_conflict_id": {
          "name": "affected_conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "affected_quest_id": {
          "name": "affected_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_impact_description": {
          "name": "conflict_impact_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "consequences_trigger_stage_decision_id_stage_decisions_id_fk": {
          "name": "consequences_trigger_stage_decision_id_stage_decisions_id_fk",
          "tableFrom": "consequences",
          "tableTo": "stage_decisions",
          "columnsFrom": [
            "trigger_stage_decision_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_trigger_quest_id_quests_id_fk": {
          "name": "consequences_trigger_quest_id_quests_id_fk",
          "tableFrom": "consequences",
          "tableTo": "quests",
          "columnsFrom": [
            "trigger_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_trigger_conflict_id_conflicts_id_fk": {
          "name": "consequences_trigger_conflict_id_conflicts_id_fk",
          "tableFrom": "consequences",
          "tableTo": "conflicts",
          "columnsFrom": [
            "trigger_conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_faction_id_factions_id_fk": {
          "name": "consequences_affected_faction_id_factions_id_fk",
          "tableFrom": "consequences",
          "tableTo": "factions",
          "columnsFrom": [
            "affected_faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_region_id_regions_id_fk": {
          "name": "consequences_affected_region_id_regions_id_fk",
          "tableFrom": "consequences",
          "tableTo": "regions",
          "columnsFrom": [
            "affected_region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_area_id_areas_id_fk": {
          "name": "consequences_affected_area_id_areas_id_fk",
          "tableFrom": "consequences",
          "tableTo": "areas",
          "columnsFrom": [
            "affected_area_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_site_id_sites_id_fk": {
          "name": "consequences_affected_site_id_sites_id_fk",
          "tableFrom": "consequences",
          "tableTo": "sites",
          "columnsFrom": [
            "affected_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_npc_id_npcs_id_fk": {
          "name": "consequences_affected_npc_id_npcs_id_fk",
          "tableFrom": "consequences",
          "tableTo": "npcs",
          "columnsFrom": [
            "affected_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_destination_id_narrative_destinations_id_fk": {
          "name": "consequences_affected_destination_id_narrative_destinations_id_fk",
          "tableFrom": "consequences",
          "tableTo": "narrative_destinations",
          "columnsFrom": [
            "affected_destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_conflict_id_conflicts_id_fk": {
          "name": "consequences_affected_conflict_id_conflicts_id_fk",
          "tableFrom": "consequences",
          "tableTo": "conflicts",
          "columnsFrom": [
            "affected_conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "consequences_affected_quest_id_quests_id_fk": {
          "name": "consequences_affected_quest_id_quests_id_fk",
          "tableFrom": "consequences",
          "tableTo": "quests",
          "columnsFrom": [
            "affected_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "consequences_name_unique": {
          "name": "consequences_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_consequence_trigger_exclusive": {
          "name": "chk_consequence_trigger_exclusive",
          "value": "\n\t\t\tCASE \"consequences\".\"trigger_entity_type\"\n\t\t\t\tWHEN 'decision' THEN (\"consequences\".\"trigger_stage_decision_id\" IS NOT NULL AND \"consequences\".\"trigger_quest_id\" IS NULL AND \"consequences\".\"trigger_conflict_id\" IS NULL)\n\t\t\t\tWHEN 'quest' THEN (\"consequences\".\"trigger_stage_decision_id\" IS NULL AND \"consequences\".\"trigger_quest_id\" IS NOT NULL AND \"consequences\".\"trigger_conflict_id\" IS NULL)\n\t\t\t\tWHEN 'conflict' THEN (\"consequences\".\"trigger_stage_decision_id\" IS NULL AND \"consequences\".\"trigger_quest_id\" IS NULL AND \"consequences\".\"trigger_conflict_id\" IS NOT NULL)\n\t\t\t\tELSE (\"consequences\".\"trigger_stage_decision_id\" IS NULL AND \"consequences\".\"trigger_quest_id\" IS NULL AND \"consequences\".\"trigger_conflict_id\" IS NULL)\n\t\t\tEND\n\t\t\t"
        },
        "chk_consequence_affected_exclusive": {
          "name": "chk_consequence_affected_exclusive",
          "value": "\n\t\t\tCASE \"consequences\".\"affected_entity_type\"\n\t\t\t\tWHEN 'faction' THEN (\"consequences\".\"affected_faction_id\" IS NOT NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\t\tWHEN 'region' THEN (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NOT NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\t\tWHEN 'area' THEN (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NOT NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\t\tWHEN 'site' THEN (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NOT NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\t\tWHEN 'npc' THEN (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NOT NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\t\tWHEN 'narrative_destination' THEN (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NOT NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\t\tWHEN 'conflict' THEN (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NOT NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\t\tWHEN 'quest' THEN (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NOT NULL)\n\t\t\t\tELSE (\"consequences\".\"affected_faction_id\" IS NULL AND \"consequences\".\"affected_region_id\" IS NULL AND \"consequences\".\"affected_area_id\" IS NULL AND \"consequences\".\"affected_site_id\" IS NULL AND \"consequences\".\"affected_npc_id\" IS NULL AND \"consequences\".\"affected_destination_id\" IS NULL AND \"consequences\".\"affected_conflict_id\" IS NULL AND \"consequences\".\"affected_quest_id\" IS NULL)\n\t\t\tEND\n\t\t\t"
        },
        "chk_consequence_conflict_impact_description_if_conflict_affected": {
          "name": "chk_consequence_conflict_impact_description_if_conflict_affected",
          "value": "\n\t\t\t(\"consequences\".\"affected_conflict_id\" IS NULL) OR (\"consequences\".\"conflict_impact_description\" IS NOT NULL)\n\t\t\t"
        }
      },
      "isRLSEnabled": false
    },
    "public.narrative_events": {
      "name": "narrative_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intended_rhythm_effect": {
          "name": "intended_rhythm_effect",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_placement": {
          "name": "narrative_placement",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impact_severity": {
          "name": "impact_severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quest_stage_id": {
          "name": "quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "triggering_stage_decision_id": {
          "name": "triggering_stage_decision_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "related_quest_id": {
          "name": "related_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "complication_details": {
          "name": "complication_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_details": {
          "name": "escalation_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twist_reveal_details": {
          "name": "twist_reveal_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "narrative_events_quest_stage_id_quest_stages_id_fk": {
          "name": "narrative_events_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "narrative_events",
          "tableTo": "quest_stages",
          "columnsFrom": [
            "quest_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "narrative_events_triggering_stage_decision_id_stage_decisions_id_fk": {
          "name": "narrative_events_triggering_stage_decision_id_stage_decisions_id_fk",
          "tableFrom": "narrative_events",
          "tableTo": "stage_decisions",
          "columnsFrom": [
            "triggering_stage_decision_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "narrative_events_related_quest_id_quests_id_fk": {
          "name": "narrative_events_related_quest_id_quests_id_fk",
          "tableFrom": "narrative_events",
          "tableTo": "quests",
          "columnsFrom": [
            "related_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "narrative_events_name_unique": {
          "name": "narrative_events_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_event_type_details_exclusive": {
          "name": "chk_event_type_details_exclusive",
          "value": "\n\t\tCASE \"narrative_events\".\"event_type\"\n\t\t\tWHEN 'complication' THEN (\"narrative_events\".\"complication_details\" IS NOT NULL AND \"narrative_events\".\"escalation_details\" IS NULL AND \"narrative_events\".\"twist_reveal_details\" IS NULL)\n\t\t\tWHEN 'escalation' THEN (\"narrative_events\".\"complication_details\" IS NULL AND \"narrative_events\".\"escalation_details\" IS NOT NULL AND \"narrative_events\".\"twist_reveal_details\" IS NULL)\n\t\t\tWHEN 'twist' THEN (\"narrative_events\".\"complication_details\" IS NULL AND \"narrative_events\".\"escalation_details\" IS NULL AND \"narrative_events\".\"twist_reveal_details\" IS NOT NULL)\n\t\t\tELSE TRUE \n\t\tEND\n\t\t"
        }
      },
      "isRLSEnabled": false
    },
    "public.npc_faction_memberships": {
      "name": "npc_faction_memberships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "loyalty": {
          "name": "loyalty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "justification": {
          "name": "justification",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rank": {
          "name": "rank",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secrets": {
          "name": "secrets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "npc_faction_memberships_npc_id_npcs_id_fk": {
          "name": "npc_faction_memberships_npc_id_npcs_id_fk",
          "tableFrom": "npc_faction_memberships",
          "tableTo": "npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "npc_faction_memberships_faction_id_factions_id_fk": {
          "name": "npc_faction_memberships_faction_id_factions_id_fk",
          "tableFrom": "npc_faction_memberships",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npc_faction_memberships_npc_id_faction_id_unique": {
          "name": "npc_faction_memberships_npc_id_faction_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "npc_id",
            "faction_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.npc_relationships": {
      "name": "npc_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_npc_id": {
          "name": "source_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_npc_id": {
          "name": "target_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "history": {
          "name": "history",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_tensions": {
          "name": "narrative_tensions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "shared_goals": {
          "name": "shared_goals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_dynamics": {
          "name": "relationship_dynamics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "npc_relationships_source_npc_id_npcs_id_fk": {
          "name": "npc_relationships_source_npc_id_npcs_id_fk",
          "tableFrom": "npc_relationships",
          "tableTo": "npcs",
          "columnsFrom": [
            "source_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "npc_relationships_target_npc_id_npcs_id_fk": {
          "name": "npc_relationships_target_npc_id_npcs_id_fk",
          "tableFrom": "npc_relationships",
          "tableTo": "npcs",
          "columnsFrom": [
            "target_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npc_relationships_source_npc_id_target_npc_id_relationship_type_unique": {
          "name": "npc_relationships_source_npc_id_target_npc_id_relationship_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_npc_id",
            "target_npc_id",
            "relationship_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "no_self_relationship": {
          "name": "no_self_relationship",
          "value": "\"npc_relationships\".\"source_npc_id\" != \"npc_relationships\".\"target_npc_id\""
        }
      },
      "isRLSEnabled": false
    },
    "public.npc_site_associations": {
      "name": "npc_site_associations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "association_type": {
          "name": "association_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "unique_current_per_npc": {
          "name": "unique_current_per_npc",
          "columns": [
            {
              "expression": "npc_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"npc_site_associations\".\"is_current\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "npc_site_associations_npc_id_npcs_id_fk": {
          "name": "npc_site_associations_npc_id_npcs_id_fk",
          "tableFrom": "npc_site_associations",
          "tableTo": "npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "npc_site_associations_site_id_sites_id_fk": {
          "name": "npc_site_associations_site_id_sites_id_fk",
          "tableFrom": "npc_site_associations",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npc_site_associations_npc_id_site_id_association_type_unique": {
          "name": "npc_site_associations_npc_id_site_id_association_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "npc_id",
            "site_id",
            "association_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.npcs": {
      "name": "npcs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "alignment": {
          "name": "alignment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "race": {
          "name": "race",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trust_level": {
          "name": "trust_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wealth": {
          "name": "wealth",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "adaptability": {
          "name": "adaptability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "complexity_profile": {
          "name": "complexity_profile",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "player_perception_goal": {
          "name": "player_perception_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "availability": {
          "name": "availability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "proactivity": {
          "name": "proactivity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relatability": {
          "name": "relatability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "disposition": {
          "name": "disposition",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "age": {
          "name": "age",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attitude": {
          "name": "attitude",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "occupation": {
          "name": "occupation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quirk": {
          "name": "quirk",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "social_status": {
          "name": "social_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_goals": {
          "name": "current_goals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "appearance": {
          "name": "appearance",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "avoid_topics": {
          "name": "avoid_topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "background": {
          "name": "background",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "biases": {
          "name": "biases",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "dialogue": {
          "name": "dialogue",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "drives": {
          "name": "drives",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "fears": {
          "name": "fears",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge": {
          "name": "knowledge",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "mannerisms": {
          "name": "mannerisms",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "personality_traits": {
          "name": "personality_traits",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "preferred_topics": {
          "name": "preferred_topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rumours": {
          "name": "rumours",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "secrets": {
          "name": "secrets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "voice_notes": {
          "name": "voice_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npcs_name_unique": {
          "name": "npcs_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.npc_stage_involvement": {
      "name": "npc_stage_involvement",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quest_stage_id": {
          "name": "quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role_in_stage": {
          "name": "role_in_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "involvement_details": {
          "name": "involvement_details",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "npc_stage_involvement_npc_id_npcs_id_fk": {
          "name": "npc_stage_involvement_npc_id_npcs_id_fk",
          "tableFrom": "npc_stage_involvement",
          "tableTo": "npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "npc_stage_involvement_quest_stage_id_quest_stages_id_fk": {
          "name": "npc_stage_involvement_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "npc_stage_involvement",
          "tableTo": "quest_stages",
          "columnsFrom": [
            "quest_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "npc_stage_involvement_npc_id_quest_stage_id_unique": {
          "name": "npc_stage_involvement_npc_id_quest_stage_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "npc_id",
            "quest_stage_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quest_stages": {
      "name": "quest_stages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_npc_id": {
          "name": "delivery_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stage_order": {
          "name": "stage_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "dramatic_question": {
          "name": "dramatic_question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stage_type": {
          "name": "stage_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intended_complexity_level": {
          "name": "intended_complexity_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stage_importance": {
          "name": "stage_importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "objectives": {
          "name": "objectives",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "completion_paths": {
          "name": "completion_paths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "encounters": {
          "name": "encounters",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "dramatic_moments": {
          "name": "dramatic_moments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "sensory_elements": {
          "name": "sensory_elements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_stages_site_id_sites_id_fk": {
          "name": "quest_stages_site_id_sites_id_fk",
          "tableFrom": "quest_stages",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quest_stages_delivery_npc_id_npcs_id_fk": {
          "name": "quest_stages_delivery_npc_id_npcs_id_fk",
          "tableFrom": "quest_stages",
          "tableTo": "npcs",
          "columnsFrom": [
            "delivery_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quest_stages_quest_id_quests_id_fk": {
          "name": "quest_stages_quest_id_quests_id_fk",
          "tableFrom": "quest_stages",
          "tableTo": "quests",
          "columnsFrom": [
            "quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quest_stages_name_unique": {
          "name": "quest_stages_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stage_decisions": {
      "name": "stage_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "from_quest_stage_id": {
          "name": "from_quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "to_quest_stage_id": {
          "name": "to_quest_stage_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "condition_type": {
          "name": "condition_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decision_type": {
          "name": "decision_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ambiguity_level": {
          "name": "ambiguity_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "options": {
          "name": "options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "success_description": {
          "name": "success_description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "failure_description": {
          "name": "failure_description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "narrative_transition": {
          "name": "narrative_transition",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "potential_player_reactions": {
          "name": "potential_player_reactions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "condition_value": {
          "name": "condition_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "failure_leads_to_retry": {
          "name": "failure_leads_to_retry",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "failure_lesson_learned": {
          "name": "failure_lesson_learned",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "stage_decisions_quest_id_quests_id_fk": {
          "name": "stage_decisions_quest_id_quests_id_fk",
          "tableFrom": "stage_decisions",
          "tableTo": "quests",
          "columnsFrom": [
            "quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stage_decisions_from_quest_stage_id_quest_stages_id_fk": {
          "name": "stage_decisions_from_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "stage_decisions",
          "tableTo": "quest_stages",
          "columnsFrom": [
            "from_quest_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stage_decisions_to_quest_stage_id_quest_stages_id_fk": {
          "name": "stage_decisions_to_quest_stage_id_quest_stages_id_fk",
          "tableFrom": "stage_decisions",
          "tableTo": "quest_stages",
          "columnsFrom": [
            "to_quest_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "stage_decisions_name_unique": {
          "name": "stage_decisions_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "stage_decisions_quest_id_from_quest_stage_id_to_quest_stage_id_unique": {
          "name": "stage_decisions_quest_id_from_quest_stage_id_to_quest_stage_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "quest_id",
            "from_quest_stage_id",
            "to_quest_stage_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_stage_decision_no_self_loop": {
          "name": "chk_stage_decision_no_self_loop",
          "value": "COALESCE(\"stage_decisions\".\"from_quest_stage_id\" != \"stage_decisions\".\"to_quest_stage_id\", TRUE)"
        },
        "chk_failure_retry_lesson": {
          "name": "chk_failure_retry_lesson",
          "value": "(\"stage_decisions\".\"failure_leads_to_retry\" = FALSE) OR (\"stage_decisions\".\"failure_lesson_learned\" IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.quest_hooks": {
      "name": "quest_hooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "hook_source_type": {
          "name": "hook_source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_npc_id": {
          "name": "delivery_npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hook_type": {
          "name": "hook_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "presentation_style": {
          "name": "presentation_style",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trust_required": {
          "name": "trust_required",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "npc_relationship_to_party": {
          "name": "npc_relationship_to_party",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dialogue_hint": {
          "name": "dialogue_hint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hook_content": {
          "name": "hook_content",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "discovery_conditions": {
          "name": "discovery_conditions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_hooks_quest_id_quests_id_fk": {
          "name": "quest_hooks_quest_id_quests_id_fk",
          "tableFrom": "quest_hooks",
          "tableTo": "quests",
          "columnsFrom": [
            "quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "quest_hooks_site_id_sites_id_fk": {
          "name": "quest_hooks_site_id_sites_id_fk",
          "tableFrom": "quest_hooks",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quest_hooks_faction_id_factions_id_fk": {
          "name": "quest_hooks_faction_id_factions_id_fk",
          "tableFrom": "quest_hooks",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quest_hooks_delivery_npc_id_npcs_id_fk": {
          "name": "quest_hooks_delivery_npc_id_npcs_id_fk",
          "tableFrom": "quest_hooks",
          "tableTo": "npcs",
          "columnsFrom": [
            "delivery_npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quest_hooks_name_unique": {
          "name": "quest_hooks_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "quest_hooks_quest_id_source_hook_type_unique": {
          "name": "quest_hooks_quest_id_source_hook_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "quest_id",
            "source",
            "hook_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_quest_hook_source_exclusive": {
          "name": "chk_quest_hook_source_exclusive",
          "value": "\n\t\t\tCASE \"quest_hooks\".\"hook_source_type\"\n\t\t\t\tWHEN 'site' THEN (\"quest_hooks\".\"site_id\" IS NOT NULL AND \"quest_hooks\".\"faction_id\" IS NULL AND \"quest_hooks\".\"delivery_npc_id\" IS NULL)\n\t\t\t\tWHEN 'faction' THEN (\"quest_hooks\".\"site_id\" IS NULL AND \"quest_hooks\".\"faction_id\" IS NOT NULL AND \"quest_hooks\".\"delivery_npc_id\" IS NULL)\n\t\t\t\tWHEN 'npc' THEN (\"quest_hooks\".\"site_id\" IS NULL AND \"quest_hooks\".\"faction_id\" IS NULL AND \"quest_hooks\".\"delivery_npc_id\" IS NOT NULL)\n\t\t\t\tELSE FALSE\n\t\t\tEND\n\t\t\t"
        }
      },
      "isRLSEnabled": false
    },
    "public.quest_participants": {
      "name": "quest_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "role_in_quest": {
          "name": "role_in_quest",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "importance_in_quest": {
          "name": "importance_in_quest",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "involvement_details": {
          "name": "involvement_details",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_participants_quest_id_quests_id_fk": {
          "name": "quest_participants_quest_id_quests_id_fk",
          "tableFrom": "quest_participants",
          "tableTo": "quests",
          "columnsFrom": [
            "quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "quest_participants_npc_id_npcs_id_fk": {
          "name": "quest_participants_npc_id_npcs_id_fk",
          "tableFrom": "quest_participants",
          "tableTo": "npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quest_participants_faction_id_factions_id_fk": {
          "name": "quest_participants_faction_id_factions_id_fk",
          "tableFrom": "quest_participants",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "chk_quest_participant_exclusive": {
          "name": "chk_quest_participant_exclusive",
          "value": "\n\t\t(\"quest_participants\".\"npc_id\" IS NOT NULL AND \"quest_participants\".\"faction_id\" IS NULL) OR\n\t\t(\"quest_participants\".\"npc_id\" IS NULL AND \"quest_participants\".\"faction_id\" IS NOT NULL)\n\t\t"
        }
      },
      "isRLSEnabled": false
    },
    "public.quest_relationships": {
      "name": "quest_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_quest_id": {
          "name": "source_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_quest_id": {
          "name": "target_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quest_relationships_source_quest_id_quests_id_fk": {
          "name": "quest_relationships_source_quest_id_quests_id_fk",
          "tableFrom": "quest_relationships",
          "tableTo": "quests",
          "columnsFrom": [
            "source_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "quest_relationships_target_quest_id_quests_id_fk": {
          "name": "quest_relationships_target_quest_id_quests_id_fk",
          "tableFrom": "quest_relationships",
          "tableTo": "quests",
          "columnsFrom": [
            "target_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quest_relationships_source_quest_id_target_quest_id_unique": {
          "name": "quest_relationships_source_quest_id_target_quest_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_quest_id",
            "target_quest_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "no_self_relationship": {
          "name": "no_self_relationship",
          "value": "\"quest_relationships\".\"source_quest_id\" != \"quest_relationships\".\"target_quest_id\""
        }
      },
      "isRLSEnabled": false
    },
    "public.quests": {
      "name": "quests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "urgency": {
          "name": "urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mood": {
          "name": "mood",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moral_spectrum_focus": {
          "name": "moral_spectrum_focus",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intended_pacing_role": {
          "name": "intended_pacing_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "primary_player_experience_goal": {
          "name": "primary_player_experience_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "failure_outcomes": {
          "name": "failure_outcomes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "success_outcomes": {
          "name": "success_outcomes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "objectives": {
          "name": "objectives",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rewards": {
          "name": "rewards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "themes": {
          "name": "themes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "inspirations": {
          "name": "inspirations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "prerequisite_quest_id": {
          "name": "prerequisite_quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "other_unlock_conditions_notes": {
          "name": "other_unlock_conditions_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quests_region_id_regions_id_fk": {
          "name": "quests_region_id_regions_id_fk",
          "tableFrom": "quests",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quests_prerequisite_quest_id_quests_id_fk": {
          "name": "quests_prerequisite_quest_id_quests_id_fk",
          "tableFrom": "quests",
          "tableTo": "quests",
          "columnsFrom": [
            "prerequisite_quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quests_name_unique": {
          "name": "quests_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.areas": {
      "name": "areas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "danger_level": {
          "name": "danger_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "atmosphere_type": {
          "name": "atmosphere_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "revelation_layers_summary": {
          "name": "revelation_layers_summary",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "leadership": {
          "name": "leadership",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "population": {
          "name": "population",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "primary_activity": {
          "name": "primary_activity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cultural_notes": {
          "name": "cultural_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hazards": {
          "name": "hazards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "points_of_interest": {
          "name": "points_of_interest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rumors": {
          "name": "rumors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "defenses": {
          "name": "defenses",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "areas_region_id_regions_id_fk": {
          "name": "areas_region_id_regions_id_fk",
          "tableFrom": "areas",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "areas_name_unique": {
          "name": "areas_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.region_connections": {
      "name": "region_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_region_id": {
          "name": "source_region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_region_id": {
          "name": "target_region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "connection_type": {
          "name": "connection_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "route_type": {
          "name": "route_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "travel_difficulty": {
          "name": "travel_difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "travel_time": {
          "name": "travel_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "travel_hazards": {
          "name": "travel_hazards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "points_of_interest": {
          "name": "points_of_interest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "region_connections_source_region_id_regions_id_fk": {
          "name": "region_connections_source_region_id_regions_id_fk",
          "tableFrom": "region_connections",
          "tableTo": "regions",
          "columnsFrom": [
            "source_region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "region_connections_target_region_id_regions_id_fk": {
          "name": "region_connections_target_region_id_regions_id_fk",
          "tableFrom": "region_connections",
          "tableTo": "regions",
          "columnsFrom": [
            "target_region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "region_connections_name_unique": {
          "name": "region_connections_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "region_connections_source_region_id_target_region_id_connection_type_unique": {
          "name": "region_connections_source_region_id_target_region_id_connection_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_region_id",
            "target_region_id",
            "connection_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_no_self_region_connection": {
          "name": "chk_no_self_region_connection",
          "value": "\"region_connections\".\"source_region_id\" != \"region_connections\".\"target_region_id\""
        }
      },
      "isRLSEnabled": false
    },
    "public.regions": {
      "name": "regions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "danger_level": {
          "name": "danger_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "atmosphere_type": {
          "name": "atmosphere_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "revelation_layers_summary": {
          "name": "revelation_layers_summary",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "economy": {
          "name": "economy",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "history": {
          "name": "history",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "population": {
          "name": "population",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cultural_notes": {
          "name": "cultural_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "hazards": {
          "name": "hazards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "points_of_interest": {
          "name": "points_of_interest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rumors": {
          "name": "rumors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "secrets": {
          "name": "secrets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "defenses": {
          "name": "defenses",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "regions_name_unique": {
          "name": "regions_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.site_encounters": {
      "name": "site_encounters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_vibe": {
          "name": "encounter_vibe",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "objective_type": {
          "name": "objective_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "objective_details": {
          "name": "objective_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "has_timer": {
          "name": "has_timer",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "timer_value": {
          "name": "timer_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "timer_unit": {
          "name": "timer_unit",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timer_consequence": {
          "name": "timer_consequence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "core_enemy_groups": {
          "name": "core_enemy_groups",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "synergy_description": {
          "name": "synergy_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encounter_category": {
          "name": "encounter_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recommended_proficiency_bonus": {
          "name": "recommended_proficiency_bonus",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "special_variations": {
          "name": "special_variations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "non_combat_options": {
          "name": "non_combat_options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_specific_environment_notes": {
          "name": "encounter_specific_environment_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interactive_elements": {
          "name": "interactive_elements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "treasure_or_rewards": {
          "name": "treasure_or_rewards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "site_encounters_site_id_sites_id_fk": {
          "name": "site_encounters_site_id_sites_id_fk",
          "tableFrom": "site_encounters",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "site_encounters_name_unique": {
          "name": "site_encounters_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "site_encounters_site_id_name_unique": {
          "name": "site_encounters_site_id_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "site_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_timer_details_if_has_timer": {
          "name": "chk_timer_details_if_has_timer",
          "value": "NOT \"site_encounters\".\"has_timer\" OR (\"site_encounters\".\"timer_value\" IS NOT NULL AND \"site_encounters\".\"timer_unit\" IS NOT NULL)"
        },
        "chk_no_timer_details_if_no_timer": {
          "name": "chk_no_timer_details_if_no_timer",
          "value": "\"site_encounters\".\"has_timer\" OR (\"site_encounters\".\"timer_value\" IS NULL AND \"site_encounters\".\"timer_unit\" IS NULL AND \"site_encounters\".\"timer_consequence\" IS NULL)"
        },
        "chk_objective_details_for_non_deathmatch": {
          "name": "chk_objective_details_for_non_deathmatch",
          "value": "\"site_encounters\".\"objective_type\" = 'DEATHMATCH' OR \"site_encounters\".\"objective_details\" IS NOT NULL"
        },
        "chk_proficiency_bonus_range": {
          "name": "chk_proficiency_bonus_range",
          "value": "\"site_encounters\".\"recommended_proficiency_bonus\" IS NULL OR (\"site_encounters\".\"recommended_proficiency_bonus\" >= 2 AND \"site_encounters\".\"recommended_proficiency_bonus\" <= 6)"
        }
      },
      "isRLSEnabled": false
    },
    "public.site_links": {
      "name": "site_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_site_id": {
          "name": "source_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_site_id": {
          "name": "target_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "site_links_source_site_id_sites_id_fk": {
          "name": "site_links_source_site_id_sites_id_fk",
          "tableFrom": "site_links",
          "tableTo": "sites",
          "columnsFrom": [
            "source_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "site_links_target_site_id_sites_id_fk": {
          "name": "site_links_target_site_id_sites_id_fk",
          "tableFrom": "site_links",
          "tableTo": "sites",
          "columnsFrom": [
            "target_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "site_links_source_site_id_target_site_id_link_type_unique": {
          "name": "site_links_source_site_id_target_site_id_link_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_site_id",
            "target_site_id",
            "link_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_no_self_site_link": {
          "name": "chk_no_self_site_link",
          "value": "\"site_links\".\"source_site_id\" != \"site_links\".\"target_site_id\""
        }
      },
      "isRLSEnabled": false
    },
    "public.site_secrets": {
      "name": "site_secrets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "secret_type": {
          "name": "secret_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discovery_method": {
          "name": "discovery_method",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "consequences": {
          "name": "consequences",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "site_secrets_site_id_sites_id_fk": {
          "name": "site_secrets_site_id_sites_id_fk",
          "tableFrom": "site_secrets",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sites": {
      "name": "sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "area_id": {
          "name": "area_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "site_type": {
          "name": "site_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intended_site_function": {
          "name": "intended_site_function",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "terrain": {
          "name": "terrain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "climate": {
          "name": "climate",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mood": {
          "name": "mood",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "environment": {
          "name": "environment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creatures": {
          "name": "creatures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "features": {
          "name": "features",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "treasures": {
          "name": "treasures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "lighting_description": {
          "name": "lighting_description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "soundscape": {
          "name": "soundscape",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "smells": {
          "name": "smells",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "weather": {
          "name": "weather",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "descriptors": {
          "name": "descriptors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "map_id": {
          "name": "map_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sites_area_id_areas_id_fk": {
          "name": "sites_area_id_areas_id_fk",
          "tableFrom": "sites",
          "tableTo": "areas",
          "columnsFrom": [
            "area_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sites_map_id_maps_id_fk": {
          "name": "sites_map_id_maps_id_fk",
          "tableFrom": "sites",
          "tableTo": "maps",
          "columnsFrom": [
            "map_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sites_name_unique": {
          "name": "sites_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "sites_map_id_unique": {
          "name": "sites_map_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "map_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.world_concept_links": {
      "name": "world_concept_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "world_concept_id": {
          "name": "world_concept_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_entity_type": {
          "name": "target_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region_id": {
          "name": "region_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "faction_id": {
          "name": "faction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "npc_id": {
          "name": "npc_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_id": {
          "name": "conflict_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quest_id": {
          "name": "quest_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "link_role_or_type_text": {
          "name": "link_role_or_type_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "link_strength": {
          "name": "link_strength",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "link_details_text": {
          "name": "link_details_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "world_concept_links_world_concept_id_world_concepts_id_fk": {
          "name": "world_concept_links_world_concept_id_world_concepts_id_fk",
          "tableFrom": "world_concept_links",
          "tableTo": "world_concepts",
          "columnsFrom": [
            "world_concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "world_concept_links_region_id_regions_id_fk": {
          "name": "world_concept_links_region_id_regions_id_fk",
          "tableFrom": "world_concept_links",
          "tableTo": "regions",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "world_concept_links_faction_id_factions_id_fk": {
          "name": "world_concept_links_faction_id_factions_id_fk",
          "tableFrom": "world_concept_links",
          "tableTo": "factions",
          "columnsFrom": [
            "faction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "world_concept_links_npc_id_npcs_id_fk": {
          "name": "world_concept_links_npc_id_npcs_id_fk",
          "tableFrom": "world_concept_links",
          "tableTo": "npcs",
          "columnsFrom": [
            "npc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "world_concept_links_conflict_id_conflicts_id_fk": {
          "name": "world_concept_links_conflict_id_conflicts_id_fk",
          "tableFrom": "world_concept_links",
          "tableTo": "conflicts",
          "columnsFrom": [
            "conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "world_concept_links_quest_id_quests_id_fk": {
          "name": "world_concept_links_quest_id_quests_id_fk",
          "tableFrom": "world_concept_links",
          "tableTo": "quests",
          "columnsFrom": [
            "quest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "chk_world_concept_link_has_target": {
          "name": "chk_world_concept_link_has_target",
          "value": "\n\t\t\t\"world_concept_links\".\"region_id\" IS NOT NULL OR\n\t\t\t\"world_concept_links\".\"faction_id\" IS NOT NULL OR\n\t\t\t\"world_concept_links\".\"npc_id\" IS NOT NULL OR\n\t\t\t\"world_concept_links\".\"conflict_id\" IS NOT NULL OR\n\t\t\t\"world_concept_links\".\"quest_id\" IS NOT NULL\n\t\t"
        }
      },
      "isRLSEnabled": false
    },
    "public.world_concept_relationships": {
      "name": "world_concept_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "source_world_concept_id": {
          "name": "source_world_concept_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_world_concept_id": {
          "name": "target_world_concept_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_details": {
          "name": "relationship_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "world_concept_relationships_source_world_concept_id_world_concepts_id_fk": {
          "name": "world_concept_relationships_source_world_concept_id_world_concepts_id_fk",
          "tableFrom": "world_concept_relationships",
          "tableTo": "world_concepts",
          "columnsFrom": [
            "source_world_concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "world_concept_relationships_target_world_concept_id_world_concepts_id_fk": {
          "name": "world_concept_relationships_target_world_concept_id_world_concepts_id_fk",
          "tableFrom": "world_concept_relationships",
          "tableTo": "world_concepts",
          "columnsFrom": [
            "target_world_concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "world_concept_relationships_source_world_concept_id_target_world_concept_id_relationship_type_unique": {
          "name": "world_concept_relationships_source_world_concept_id_target_world_concept_id_relationship_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_world_concept_id",
            "target_world_concept_id",
            "relationship_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "no_self_relationship": {
          "name": "no_self_relationship",
          "value": "\"world_concept_relationships\".\"source_world_concept_id\" != \"world_concept_relationships\".\"target_world_concept_id\""
        }
      },
      "isRLSEnabled": false
    },
    "public.world_concepts": {
      "name": "world_concepts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creative_prompts": {
          "name": "creative_prompts",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "gm_notes": {
          "name": "gm_notes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "concept_type": {
          "name": "concept_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "complexity_profile": {
          "name": "complexity_profile",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "moral_clarity": {
          "name": "moral_clarity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "surface_impression": {
          "name": "surface_impression",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lived_reality_details": {
          "name": "lived_reality_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hidden_truths_or_depths": {
          "name": "hidden_truths_or_depths",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_details": {
          "name": "additional_details",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "social_structure": {
          "name": "social_structure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "core_values": {
          "name": "core_values",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "traditions": {
          "name": "traditions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "languages": {
          "name": "languages",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "adaptation_strategies": {
          "name": "adaptation_strategies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "defining_characteristics": {
          "name": "defining_characteristics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "major_events": {
          "name": "major_events",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "lasting_institutions": {
          "name": "lasting_institutions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "conflicting_narratives": {
          "name": "conflicting_narratives",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "historical_grievances": {
          "name": "historical_grievances",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "ending_causes": {
          "name": "ending_causes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "historical_lessons": {
          "name": "historical_lessons",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "structure": {
          "name": "structure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "membership": {
          "name": "membership",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "rules": {
          "name": "rules",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "modern_adaptations": {
          "name": "modern_adaptations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "current_effectiveness": {
          "name": "current_effectiveness",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "institutional_challenges": {
          "name": "institutional_challenges",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "cultural_evolution": {
          "name": "cultural_evolution",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe": {
          "name": "timeframe",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_year": {
          "name": "start_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "end_year": {
          "name": "end_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "modern_relevance": {
          "name": "modern_relevance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_challenges": {
          "name": "current_challenges",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "modern_consequences": {
          "name": "modern_consequences",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "quest_hooks": {
          "name": "quest_hooks",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "world_concepts_name_unique": {
          "name": "world_concepts_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}